{% extends 'base.html.twig' %}

{% block title %}Login - TicketFlow{% endblock %}

{% block stylesheets %}
    {{ parent() }}
    <link rel="stylesheet" href="{{ asset('css/login.css') }}">
{% endblock %}

{% block content %}
    {% if app.flashes('error') %}
        <div id="toast" class="toast">
            {% for message in app.flashes('error') %}
                <span id="toast-message">{{ message }}</span>
            {% endfor %}
            <button onclick="hideToast()">&times;</button>
        </div>
    {% endif %}

    <section class="auth-container">
        <div class="form">
            <h2 id="formTitle">Welcome Back ðŸ‘‹</h2>
            <p style="text-align: center; color: #666; margin-bottom: 20px;">Sign in to manage your tickets</p>

            <form id="authForm" action="{{ path('login_check') }}" method="post">
                <div class="form-group">
                    <label for="email">Email</label>
                    <input type="email" id="email" name="_username" placeholder="hello@mail.com" required/>
                    <p class="error" id="email-error"></p>
                </div>
                <div class="form-group">
                    <label for="password">Password</label>
                    <input type="password" id="password" name="_password" placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢" required/>
                    <p class="error" id="password-error"></p>
                </div>

                <input type="hidden" name="_csrf_token" value="{{ csrf_token('authenticate') }}">
                <button type="submit" id="submitBtn">Login</button>
            </form>

            <p class="toggle-text">
                Don't have an account?
                <a href="{{ path('signup') }}"><span id="toggleLink">Sign Up</span></a>
            </p>
        </div>
    </section>

    <section>
        <div class="circle circle1"></div>
        <div class="circle circle2"></div>

        <svg class="wave" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1440 320">
            <path fill="#d1bbea" fill-opacity="1"
                d="M0,160L80,170.7C160,181,320,203,480,186.7C640,171,800,117,960,128C1120,139,1280,213,1360,250.7L1440,288L1440,320L0,320Z">
            </path>
        </svg>
    </section>
{% endblock %}

{% block javascripts %}
    <script src="{{ asset('js/login.js') }}"></script>
{% endblock %}